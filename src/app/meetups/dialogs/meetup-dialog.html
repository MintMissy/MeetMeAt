<p-dialog
	(visibleChange)="onVisibleChange($event)"
	[visible]="open()"
	[header]="meetup() ? 'Edit Meetup' : 'Add Meetup'"
	[modal]="true"
	[style]="{ width: '50vw' }"
	[breakpoints]="{ '960px': '75vw', '641px': '90vw' }"
	[draggable]="false"
	[resizable]="false"
>
	<form (ngSubmit)="onSubmit()" [formGroup]="form" class="flex flex-col gap-4">
		<div class="flex flex-col gap-2">
			<label for="title">Title</label>
			<input
				id="title"
				type="text"
				pInputText
				formControlName="title"
				placeholder="Enter meetup title"
			/>
		</div>

		<div class="flex flex-col gap-2">
			<label for="description">Description</label>
			<textarea
				[rows]="3"
				id="description"
				pTextarea
				formControlName="description"
				placeholder="Enter meetup description"
			></textarea>
		</div>

		<div class="flex flex-col gap-2">
			<label for="date">Date</label>
			<p-calendar
				[showTime]="true"
				[showIcon]="true"
				appendTo="body"
				id="date"
				formControlName="date"
				placeholder="Select date and time"
			></p-calendar>
		</div>

		<div class="flex flex-col gap-2">
			<label for="organizer">Organizer</label>
			<input
				id="organizer"
				type="text"
				pInputText
				formControlName="organizer"
				placeholder="Enter organizer name"
			/>
		</div>

		<div class="flex flex-col gap-2">
			<label for="city">City</label>
			<input
				id="city"
				type="text"
				pInputText
				formControlName="city"
				placeholder="Enter city"
			/>
		</div>

		<div class="flex flex-col gap-2">
			<label for="meetupLocation">Location</label>
			<input
				id="meetupLocation"
				type="text"
				pInputText
				formControlName="meetupLocation"
				placeholder="Enter meetup location"
			/>
		</div>

		<div class="flex flex-col gap-2">
			<label for="category">Category</label>
			<p-dropdown
				[options]="categories"
				appendTo="body"
				id="category"
				formControlName="category"
				placeholder="Select a category"
			></p-dropdown>
		</div>

		<div class="flex justify-end gap-2">
			<p-button
				(click)="onCancel()"
				label="Cancel"
				icon="pi pi-times"
				styleClass="p-button-text"
				type="button"
			/>
			<p-button
				[loading]="isSubmitting()"
				[disabled]="form.invalid"
				type="submit"
				label="Save"
				icon="pi pi-check"
			/>
		</div>
	</form>
</p-dialog>
